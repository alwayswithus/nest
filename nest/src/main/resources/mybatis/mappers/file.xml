<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="file">
	<insert id="insertFile" parameterType="filevo">
	   <![CDATA[
	      insert into file values(null, #{originName}, #{changeName},#{filePath}, now(), #{taskNo})
	      ]]>
	       <selectKey keyProperty = "fileNo" resultType="long" order="AFTER">
			select last_insert_id()
		</selectKey>
   </insert>
   
   <select id="findByFileNo" parameterType="long" resultType="string">
   		select change_name 
   		from file
   		where file_no = #{fileNo}
   </select>
</mapper>